<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:five="http://namespaces.zope.org/five"
    xmlns:i18n="http://namespaces.zope.org/i18n"
    xmlns:monkey="http://namespaces.plone.org/monkey"
    xmlns:genericsetup="http://namespaces.zope.org/genericsetup"
    xmlns:cmf="http://namespaces.zope.org/cmf">

    <includeDependencies package="." />
    <i18n:registerTranslations directory="locales" />

    <include file="profile.zcml" />

    <class class="Products.Archetypes.atapi.BaseObject">
        <implements interface=".interfaces.IArchetypesTranslatable" />
    </class>

    <adapter
        for=".interfaces.IArchetypesTranslatable"
        provides="plone.multilingual.interfaces.ILanguage"
        factory=".language.ATLanguage"
    />

    <monkey:patch
        description="archetypes.multilingual makes Products.Archetypes.Widget.LanguageWidget invisble by monkeypatching!!!"
        class="Products.Archetypes.Widget.LanguageWidget"
        original="isVisible"
        replacement=".monkey.isVisible"
            docstringWarning="true"
    />

  <cmf:registerDirectory
      name="skins"
      directory="skins"
      recursive="True"
      />

</configure>
